<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>REIYH ‚Äî Apple TV Style IPTV</title>

<!-- Shaka Player -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.7/shaka-player.ui.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.7/controls.css">

<style>
  /* ---------- Base / Variables ---------- */
  :root{
    --bg-1: #0b1221;
    --glass: rgba(255,255,255,0.04);
    --glass-strong: rgba(255,255,255,0.06);
    --accent: #6aa6ff;
    --accent-2: #8de1ff;
    --muted: rgba(255,255,255,0.65);
    --live-red: #ff4b4b;
    --card-radius: 14px;
    --gap: 14px;
    --glass-border: rgba(255,255,255,0.06);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: 'SF Pro Text', 'Segoe UI', system-ui, -apple-system, Roboto, "Helvetica Neue", Arial;
    background:
      radial-gradient(1000px 500px at 10% 10%, rgba(106,166,255,0.06), transparent 12%),
      radial-gradient(900px 500px at 90% 90%, rgba(141,225,255,0.03), transparent 12%),
      linear-gradient(180deg, var(--bg-1) 0%, #07101a 100%);
    color: #fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:18px;
  }

  /* ---------- App container (centered) ---------- */
  .app {
    max-width:1100px;
    margin: 0 auto;
    height: calc(100vh - 36px);
    display: grid;
    grid-template-rows: auto 1fr auto;
    gap: 16px;
  }

  /* ---------- Header / topbar ---------- */
  header.topbar {
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: 12px;
    padding: 12px 16px;
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(10px) saturate(120%);
    box-shadow: 0 6px 18px rgba(3,7,18,0.6);
  }

  .brand {
    display:flex;
    align-items:center;
    gap:12px;
  }
  .logo {
    width:44px;height:44px;border-radius:10px;
    display:flex;align-items:center;justify-content:center;
    background: linear-gradient(135deg,var(--accent), var(--accent-2));
    color:#021029;font-weight:700;font-size:18px;
    box-shadow: 0 6px 18px rgba(106,166,255,0.12);
  }
  .title {
    font-size:1.05rem;font-weight:600;letter-spacing:0.2px;
  }
  .subtitle {font-size:0.78rem;color:var(--muted);margin-top:2px}

  .top-actions {
    display:flex;gap:8px;align-items:center;
  }

  .search {
    display:flex;align-items:center;gap:8px;
    background:var(--glass); padding:8px 12px;border-radius:999px;
    border:1px solid var(--glass-border);min-width:240px;
  }
  .search input{
    border:0;background:transparent;outline:none;color:inherit;font-size:0.95rem;
    width:100%;
  }
  .icon-btn{
    display:inline-flex;align-items:center;justify-content:center;
    width:40px;height:40px;border-radius:8px;border:1px solid transparent;
    background:transparent;cursor:pointer;transition:all .12s;
  }
  .icon-btn:hover{transform:translateY(-2px);box-shadow:0 6px 12px rgba(0,0,0,0.4)}
  .icon-btn.toggle{border:1px solid var(--glass-border);padding:6px 8px}

  /* ---------- Main content split ---------- */
  .main {
    display:grid;
    grid-template-columns: 1fr 420px;
    gap: 16px;
    height:100%;
  }

  /* left: video area */
  .player-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    border-radius: var(--card-radius); overflow:hidden;
    border:1px solid var(--glass-border);
    display:flex;flex-direction:column;
    box-shadow: 0 18px 40px rgba(0,0,0,0.55);
    position:relative;
  }

  .video-wrap{
    position:relative;flex:1;min-height:320px;background:black;
    display:flex;align-items:center;justify-content:center;
  }
  video#video{
    width:100%;height:100%;object-fit:contain;background:#000;
  }

  /* pip toggle */
  .pip-toggle{
    position:absolute;right:14px;top:14px;z-index:10;
    display:flex;gap:8px;align-items:center;
  }

  .player-info-row{
    display:flex;gap:12px;padding:12px 16px;align-items:center;
    border-top:1px solid rgba(255,255,255,0.03);
    background:linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
  }
  .player-stats{display:flex;gap:18px;align-items:center;color:var(--muted);font-size:0.9rem}
  .stat {display:flex;flex-direction:column}
  .stat .label{font-size:0.75rem;color:var(--muted)}
  .stat .value{font-weight:700;font-size:0.95rem}

  /* right: playlist */
  .playlist-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: var(--card-radius); overflow:hidden;
    border:1px solid var(--glass-border);display:flex;flex-direction:column;
    min-width:300px; max-height:100%;
  }

  .playlist-header{
    padding:12px 14px;border-bottom:1px solid rgba(255,255,255,0.03);
    display:flex;justify-content:space-between;align-items:center;gap:12px;
  }
  .playlist-title{
    font-weight:700;font-size:0.95rem;
  }
  .playlist-controls{display:flex;gap:8px}

  .playlist-search {
    display:flex;gap:8px;align-items:center;background:transparent;padding:8px;border-radius:8px;
    border:1px solid transparent;
  }

  /* pages area */
  .pages {
    padding:10px; overflow:auto; flex:1;
  }
  .group-title{
    font-weight:700;margin:10px 6px;color:var(--muted);
    font-size:0.86rem;
  }

  /* playlist items: Apple TV-like big cards */
  .channel-grid{
    display:grid;
    grid-template-columns: repeat(1, 1fr);
    gap:10px;
  }

  .channel {
    display:flex;align-items:center;gap:12px;padding:10px;border-radius:10px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    border:1px solid transparent; cursor:pointer; transition: all .14s;
    box-shadow: 0 6px 18px rgba(1,6,15,0.4);
  }
  .channel:hover, .channel:focus, .channel.active {
    transform: translateX(6px);
    border: 1px solid rgba(106,166,255,0.12);
    box-shadow: 0 12px 34px rgba(6,18,40,0.6);
    background: linear-gradient(90deg, rgba(106,166,255,0.04), rgba(141,225,255,0.02));
  }

  .thumb {
    width:96px;height:56px;border-radius:6px;overflow:hidden;flex-shrink:0;
    display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.35);
    position:relative;
  }
  .thumb img{width:100%;height:100%;object-fit:cover;display:block}

  .live-badge {
    position:absolute;left:8px;top:8px;padding:4px 8px;border-radius:999px;
    background:linear-gradient(90deg,var(--live-red),#ff7a7a);
    font-size:0.72rem;font-weight:700;color:#fff;box-shadow:0 6px 14px rgba(255,75,75,0.12);
  }

  .ch-info{flex:1;min-width:0}
  .ch-name{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .ch-meta{color:var(--muted);font-size:0.82rem;margin-top:4px}

  /* small indicator */
  .playing-indicator{
    width:10px;height:10px;border-radius:50%;background:var(--accent);margin-left:8px;
    box-shadow:0 6px 18px rgba(106,166,255,0.16);
  }

  /* footer */
  footer{
    display:flex;justify-content:center;padding:10px 6px;color:var(--muted);font-size:0.85rem;
  }

  /* mini PIP floating */
  .mini-pip {
    position:fixed; right:22px; bottom:22px; width:320px;height:180px;border-radius:12px;
    overflow:hidden;border:1px solid rgba(255,255,255,0.06);background:#000;z-index:9999;
    box-shadow: 0 20px 50px rgba(0,0,0,0.6); display:none;
  }
  .mini-pip.show{display:block}
  .mini-controls{position:absolute;left:8px;top:8px;z-index:10;display:flex;gap:8px}

  /* small screens */
  @media (max-width:900px){
    .main { grid-template-columns: 1fr; grid-auto-rows: auto; }
    .playlist-card{order:2}
    .player-card{order:1}
    .mini-pip{right:12px;bottom:12px;width:220px;height:140px}
  }
</style>
</head>
<body>
  <div class="app">

    <!-- TOP BAR -->
    <header class="topbar">
      <div class="brand">
        <div class="logo">R</div>
        <div>
          <div class="title">REIYH Player</div>
          <div class="subtitle">Swipe / Arrow keys ‚Äî Apple TV inspired UI</div>
        </div>
      </div>

      <div class="top-actions" role="region" aria-label="Top actions">
        <div class="search" title="Search channel">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden>
            <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></circle>
          </svg>
          <input id="global-search" placeholder="Search channels or groups..." />
        </div>

        <button class="icon-btn toggle" id="theme-toggle" title="Toggle theme (light/dark)">
          <svg width="16" height="16" viewBox="0 0 24 24"><path d="M12 3v2M12 19v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>

        <button class="icon-btn" id="settings-btn" title="Settings">
          <svg width="16" height="16" viewBox="0 0 24 24"><path d="M12 15.5A3.5 3.5 0 1 0 12 8.5a3.5 3.5 0 0 0 0 7zm8.66-2.5a7.97 7.97 0 0 0-.22-1.7l2-1.5-2-3.46-2.36.68A8 8 0 0 0 13 3.34V1h-2v2.34a8 8 0 0 0-3.08 1.18L5.56 2.84 3.56 6.3l2 1.5a7.97 7.97 0 0 0-.22 1.7v.4a7.97 7.97 0 0 0 .22 1.7l-2 1.5 2 3.46 2.36-.68A8 8 0 0 0 11 20.66V23h2v-2.34a8 8 0 0 0 3.08-1.18l2.36.68 2-3.46-2-1.5c.14-.54.22-1.11.22-1.7v-.4z" stroke="currentColor" stroke-width="0" fill="currentColor"></path></svg>
        </button>
      </div>
    </header>

    <!-- MAIN -->
    <section class="main">
      <!-- VIDEO / PLAYER -->
      <section class="player-card" aria-label="Video player">
        <div class="video-wrap" id="video-wrap">
          <div class="pip-toggle" id="pip-toggle">
            <button class="icon-btn" id="enter-pip" title="Open mini player">‚§¢</button>
          </div>

          <video id="video" poster="" controls autoplay playsinline></video>

          <!-- Shaka UI will attach controls to video automatically if used -->
        </div>

        <div class="player-info-row">
          <div class="player-stats">
            <div class="stat">
              <div class="label">Player</div>
              <div class="value" id="player-version">-</div>
            </div>
            <div class="stat">
              <div class="label">Resolution</div>
              <div class="value" id="current-resolution">-</div>
            </div>
            <div class="stat">
              <div class="label">Buffering</div>
              <div class="value" id="buffering-status">-</div>
            </div>
            <div class="stat">
              <div class="label">Time</div>
              <div class="value" id="current-time">0:00</div>
            </div>
          </div>
        </div>
      </section>

      <!-- PLAYLIST -->
      <aside class="playlist-card" aria-label="Playlist">
        <div class="playlist-header">
          <div>
            <div class="playlist-title" id="playlist-title">Loading channels...</div>
            <div style="font-size:0.78rem;color:var(--muted)">Swipe groups ‚Ä¢ Keyboard: ‚Üê ‚Üí ‚Ä¢ Enter to play</div>
          </div>
          <div class="playlist-controls">
            <button class="icon-btn" id="shuffle-btn" title="Shuffle playlist">üîÄ</button>
            <button class="icon-btn" id="refresh-btn" title="Refresh playlist">‚§ª</button>
          </div>
        </div>

        <div class="pages" id="pages">
          <div class="group-title" id="group-info">All channels</div>
          <div class="channel-grid" id="channel-grid">
            <!-- Channels will be injected here -->
            <div style="padding:20px;color:var(--muted)">Loading channels...</div>
          </div>
        </div>
      </aside>
    </section>

    <footer>
      Built with REIYH ‚Äî Apple TV inspired UI
    </footer>
  </div>

  <!-- Mini PIP -->
  <div class="mini-pip" id="mini-pip" aria-hidden="true">
    <div class="mini-controls">
      <button class="icon-btn" id="mini-close" title="Close mini player">‚úï</button>
    </div>
    <!-- We'll reuse the same video element by cloning a small video in code when entering pip -->
    <video id="mini-video" playsinline muted></video>
  </div>

<script>
/* ===========================
   Core app logic & behavior
   =========================== */

document.addEventListener('DOMContentLoaded', async () => {
  // --- elements
  const video = document.getElementById('video');
  const miniPipWrap = document.getElementById('mini-pip');
  const miniVideo = document.getElementById('mini-video');
  const pipBtn = document.getElementById('enter-pip');
  const miniClose = document.getElementById('mini-close');
  const playerVersionEl = document.getElementById('player-version');
  const currentResolutionEl = document.getElementById('current-resolution');
  const bufferingStatusEl = document.getElementById('buffering-status');
  const currentTimeEl = document.getElementById('current-time');
  const playlistTitleEl = document.getElementById('playlist-title');
  const pagesEl = document.getElementById('pages');
  const channelGrid = document.getElementById('channel-grid');
  const shuffleBtn = document.getElementById('shuffle-btn');
  const refreshBtn = document.getElementById('refresh-btn');
  const searchInput = document.getElementById('global-search');
  const themeToggle = document.getElementById('theme-toggle');

  // --- sample M3U content (kept from your original)
  const m3uContent = #EXTM3U

//========================================================================
//VWS Full Dump Playlist - BPK Channels with Clearkey. Do not share this, credit me if you do.
//========================================================================

#EXTINF:-1 group-logo="https://upload.wikimedia.org/wikipedia/en/thumb/1/18/Cignal_Logo_2018.svg/645px-Cignal_Logo_2018.svg.png",Cignal

#EXTINF:-1 group-logo="https://cdn-icons-png.flaticon.com/512/3074/3074767.png",Entertainment

#EXTINF:-1 tvg-id="a2z" tvg-logo="https://i.imgur.com/ftwsljN.png" group-title="Entertainment",A2Z
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=f703e4c8ec9041eeb5028ab4248fa094:c22f2162e176eee6273a5d0b68d19530
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_a2z/default/index.mpd

#EXTINF:-1 tvg-id="one-ph" tvg-logo="https://i.imgur.com/U9QwJSE.png" group-title="Entertainment",One PH
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=92834ab4a7e1499b90886c5d49220e46:a7108d9a6cfcc1b7939eb111daf09ab3
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/oneph_sd/default/index.mpd

#EXTINF:-1 tvg-id="buko" tvg-logo="https://i.imgur.com/BxQvEil.png" group-title="Entertainment",Buko
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=d273c085f2ab4a248e7bfc375229007d:7932354c3a84f7fc1b80efa6bcea0615
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_buko_sd/default/index.mpd

#EXTINF:-1 tvg-id="sari-sari" tvg-logo="https://i.imgur.com/25CGN9g.png" group-title="Entertainment",Sari-Sari
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=0a7ab3612f434335aa6e895016d8cd2d:b21654621230ae21714a5cab52daeb9d
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_sarisari/default/index.mpd

#EXTINF:-1 tvg-id="tv5-hd" tvg-logo="https://i.imgur.com/U5L67WD.png" group-title="Entertainment",TV5
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=2615129ef2c846a9bbd43a641c7303ef:07c7f996b1734ea288641a68e1cfdc4d
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/tv5_hd/default1/index.mpd

#EXTINF:-1 tvg-id="lotus-macau" tvg-logo="https://i.imgur.com/5G72qjx.png" group-title="Entertainment",Lotus Macau
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=60dc692e64ea443a8fb5ac186c865a9b:01bdbe22d59b2a4504b53adc2f606cc1
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/lotusmacau_prd/default/index.mpd

#EXTINF:-1 tvg-id="tvup" tvg-logo="https://i.imgur.com/OHLO5Hz.png" group-title="Entertainment",tvUP
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=83e813ccd4ca4837afd611037af02f63:a97c515dbcb5dcbc432bbd09d15afd41
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/tvup_prd/default/index.mpd

#EXTINF:-1 tvg-id="thrill-sd" tvg-logo="https://i.imgur.com/kgqsalZ.png" group-title="Entertainment",Thrill
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=928114ffb2394d14b5585258f70ed183:a82edc340bc73447bac16cdfed0a4c62
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_thrill_sd/default/index.mpd

#EXTINF:-1 tvg-id="axn" tvg-logo="https://i.imgur.com/OuaLV7f.png" group-title="Entertainment",AXN
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=fd5d928f5d974ca4983f6e9295dfe410:3aaa001ddc142fedbb9d5557be43792f
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_axn_sd/default/index.mpd

#EXTINF:-1 tvg-id="hits-hd" tvg-logo="https://i.imgur.com/CxqHKUO.png" group-title="Entertainment",Hits HD
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=dac605bc197e442c93f4f08595a95100:975e27ffc1b7949721ee3ccb4b7fd3e5
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/hits_hd1/default/index.mpd

#EXTINF:-1 tvg-id="hits-now" tvg-logo="https://i.imgur.com/Ck0ad9b.png" group-title="Entertainment",Hits Now
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=14439a1b7afc4527bb0ebc51cf11cbc1:92b0287c7042f271b266cc11ab7541f1
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_hitsnow/default/index.mpd

#EXTINF:-1 tvg-id="ibc" tvg-logo="https://i.imgur.com/CTHhr3Q.png" group-title="Entertainment",IBC 13
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=16ecd238c0394592b8d3559c06b1faf5:05b47ae3be1368912ebe28f87480fc84
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/ibc13_sd_new/default1/index.mpd

#EXTINF:-1 tvg-id="true-fm-tv" tvg-logo="https://i.imgur.com/i0xetYa.png" group-title="Entertainment",TrueTV
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=0559c95496d44fadb94105b9176c3579:40d8bb2a46ffd03540e0c6210ece57ce
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/truefm_tv/default/index.mpd

#EXTINF:-1 tvg-id="tvn-premium-hd" tvg-logo="https://i.imgur.com/qEPJE1t.png" group-title="Entertainment",TVN Premium
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=e1bde543e8a140b38d3f84ace746553e:b712c4ec307300043333a6899a402c10
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_tvnpre/default/index.mpd

#EXTINF:-1 tvg-id="kbs-world-sd" tvg-logo="https://i.imgur.com/aFDRmtm.png" group-title="Entertainment",KBS World
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=22ff2347107e4871aa423bea9c2bd363:c6e7ba2f48b3a3b8269e8bc360e60404
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/kbsworld/default/index.mpd

#EXTINF:-1 tvg-id="tap-tv" tvg-logo="https://i.imgur.com/vDvLPda.png" group-title="Entertainment",Tap TV
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=f6804251e90b4966889b7df94fdc621e:55c3c014f2bd12d6bd62349658f24566
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_taptv_sd/default/index.mpd

#EXTINF:-1 tvg-id="global-trekker" tvg-logo="https://accion.com.ph/wp-content/uploads/2023/02/GT-Thumbnail-New.jpg" group-title="Entertainment",Global Trekker
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=4553f7e8011f411fb625cefc39274300:98f2f1d153367e84b5d559dc9dfb9a35
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_tapedge/default/index.mpd

#EXTINF:-1 tvg-id="rock-action" tvg-logo="https://i.imgur.com/T70dbrM.png" group-title="Entertainment",Rock Action
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=0f852fb8412b11edb8780242ac120002:4cbc004d8c444f9f996db42059ce8178
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_rockextreme/default/index.mpd

#EXTINF:-1 tvg-id="rock-entertainment" tvg-logo="https://i.imgur.com/BuKajCb.png" group-title="Entertainment",Rock Entertainment
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=e4ee0cf8ca9746f99af402ca6eed8dc7:be2a096403346bc1d0bb0f812822bb62
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_rockentertainment/default/index.mpd

#EXTINF:-1 group-logo="https://cdn-icons-png.flaticon.com/512/2503/2503508.png",Movies

#EXTINF:-1 tvg-id="tvn-movies-pinoy" tvg-logo="https://i.imgur.com/8YhI91e.png" group-title="Movies",TVN Movies Pinoy
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=2e53f8d8a5e94bca8f9a1e16ce67df33:3471b2464b5c7b033a03bb8307d9fa35
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_tvnmovie/default/index.mpd

#EXTINF:-1 tvg-id="pbo" tvg-logo="https://i.imgur.com/r3PUF9p.png" group-title="Movies",PBO
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=dcbdaaa6662d4188bdf97f9f0ca5e830:31e752b441bd2972f2b98a4b1bc1c7a1
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/pbo_sd/default/index.mpd

#EXTINF:-1 tvg-id="viva-cinema" tvg-logo="https://i.imgur.com/hBb2Fh9.png" group-title="Movies",Viva Cinema
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=07aa813bf2c147748046edd930f7736e:3bd6688b8b44e96201e753224adfc8fb
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/viva_sd/default/index.mpd

#EXTINF:-1 tvg-id="tagalized-movie-channel" tvg-logo="https://i.imgur.com/550RYpJ.png" group-title="Movies",TMC (Tagalized Movie Channel)
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=96701d297d1241e492d41c397631d857:ca2931211c1a261f082a3a2c4fd9f91b
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_tagalogmovie/default/index.mpd

#EXTINF:-1 tvg-id="celestial-movies-pinoy" tvg-logo="https://i.imgur.com/e5IZsv3.png" group-title="Movies",Celestial Movies Pinoy
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=0f8537d8412b11edb8780242ac120002:2ffd7230416150fd5196fd7ea71c36f3
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/celmovie_pinoy_sd/default/index.mpd

#EXTINF:-1 tvg-id="tap-movies-hd" tvg-logo="https://i.imgur.com/lVNcCFq.png" group-title="Movies",Tap Movies
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=71cbdf02b595468bb77398222e1ade09:c3f2aa420b8908ab8761571c01899460
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_tapmovies_hd1/default/index.mpd

#EXTINF:-1 tvg-id="hbo" tvg-logo="https://i.imgur.com/6uN52OW.png" group-title="Movies",HBO
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=d47ebabf7a21430b83a8c4b82d9ef6b1:54c213b2b5f885f1e0290ee4131d425b
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_hbohd/default/index.mpd

#EXTINF:-1 tvg-id="hbo-hits" tvg-logo="https://i.imgur.com/tGSLZWz.png" group-title="Movies",HBO Hits
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=b04ae8017b5b4601a5a0c9060f6d5b7d:a8795f3bdb8a4778b7e888ee484cc7a1
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_hbohits/default1/index.mpd

#EXTINF:-1 tvg-id="hbo-family" tvg-logo="https://i.imgur.com/SefoKAw.png" group-title="Movies",HBO Family
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=872910c843294319800d85f9a0940607:f79fd895b79c590708cf5e8b5c6263be
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_hbofam/default/index.mpd

#EXTINF:-1 tvg-id="hbo-signature" tvg-logo="https://i.imgur.com/3L9QRDw.png" group-title="Movies",HBO Signature
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=a06ca6c275744151895762e0346380f5:559da1b63eec77b5a942018f14d3f56f
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_hbosign/default/index.mpd

#EXTINF:-1 tvg-id="hits-movies" tvg-logo="https://i.imgur.com/xjyDTMr.png" group-title="Movies",HITS Movies
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=f56b57b32d7e4b2cb21748c0b56761a7:3df06a89aa01b32655a77d93e09e266f
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_hitsmovies/default/index.mpd

#EXTINF:-1 tvg-id="tap-action-flix-hd" tvg-logo="https://i.imgur.com/pjeTzag.png" group-title="Movies",Tap Action Flix
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=bee1066160c0424696d9bf99ca0645e3:f5b72bf3b89b9848de5616f37de040b7
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_tapactionflix_hd1/default/index.mpd

#EXTINF:-1 tvg-id="cinemax" tvg-logo="https://i.imgur.com/9LNJXe3.png" group-title="Movies",Cinemax
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=b207c44332844523a3a3b0469e5652d7:fe71aea346db08f8c6fbf0592209f955
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_cinemax/default/index.mpd

#EXTINF:-1 group-logo="https://cdn-icons-png.flaticon.com/512/857/857418.png",Sports

#EXTINF:-1 tvg-id="nba-tv-philippines-cignal" tvg-logo="https://i.imgur.com/RcxNoIC.png" group-title="Sports",NBA TV Philippines
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=c5e51f41ceac48709d0bdcd9c13a4d88:20b91609967e472c27040716ef6a8b9a
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cgnl_nba/default/index.mpd

#EXTINF:-1 tvg-id="pba-rush-hd" tvg-logo="https://i.imgur.com/Z7oMGiI.png" group-title="Sports",PBA Rush
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=76dc29dd87a244aeab9e8b7c5da1e5f3:95b2f2ffd4e14073620506213b62ac82
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_pbarush_hd1/default/index.mpd

#EXTINF:-1 tvg-id="one-sports-hd" tvg-logo="https://i.imgur.com/imI97L2.png" group-title="Sports",One Sports HD Cignal
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=53c3bf2eba574f639aa21f2d4409ff11:3de28411cf08a64ea935b9578f6d0edd
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_onesports_hd/default/index.mpd

#EXTINF:-1 tvg-id="one-sports-plus" tvg-logo="https://i.imgur.com/RnDeKOj.png" group-title="Sports",One Sports Plus
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=322d06e9326f4753a7ec0908030c13d8:1e3e0ca32d421fbfec86feced0efefda
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_onesportsplus_hd1/default/index.mpd

#EXTINF:-1 tvg-id="uaap-varsity-channel" tvg-logo="https://i.imgur.com/POFK8tM.png" group-title="Sports",UAAP Varsity Channel
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=95588338ee37423e99358a6d431324b9:6e0f50a12f36599a55073868f814e81e
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_uaap_cplay_sd/default/index.mpd

#EXTINF:-1 tvg-id="tap-sports" tvg-logo="https://i.imgur.com/HWbSPI9.png" group-title="Sports",TAP Sports
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=eabd2d95c89e42f2b0b0b40ce4179ea0:0e7e35a07e2c12822316c0dc4873903f
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_tapsports/default/index.mpd

#EXTINF:-1 tvg-id="premier-sports" tvg-logo="https://i.imgur.com/GTfUEnU.png" group-title="Sports",Premier Sports
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=b8b595299fdf41c1a3481fddeb0b55e4:cd2b4ad0eb286239a4a022e6ca5fd007
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_ps_hd1/default/index.mpd

#EXTINF:-1 tvg-id="premier-sports-2" tvg-logo="https://i.imgur.com/OWVR172.png" group-title="Sports",Premier Sports 2
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=59454adb530b4e0784eae62735f9d850:61100d0b8c4dd13e4eb8b4851ba192cc
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/premiersports2hd/default/index.mpd

#EXTINF:-1 tvg-id="spotv-hd" tvg-logo="https://i.imgur.com/QExPfsT.png" group-title="Sports",SpoTV HD
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=ec7ee27d83764e4b845c48cca31c8eef:9c0e4191203fccb0fde34ee29999129e
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_spotvhd/default/index.mpd

#EXTINF:-1 tvg-id="spotv-2-hd" tvg-logo="https://i.imgur.com/7mY1Zxg.png" group-title="Sports",SpoTV 2 HD
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=7eea72d6075245a99ee3255603d58853:6848ef60575579bf4d415db1032153ed
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_spotv2hd/default/index.mpd

#EXTINF:-1 group-logo="https://cdn-icons-png.flaticon.com/512/3062/3062634.png",Kids

#EXTINF:-1 tvg-id="animax" tvg-logo="https://i.imgur.com/5gJTEHT.png" group-title="Kids",Animax
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=92032b0e41a543fb9830751273b8debd:03f8b65e2af785b10d6634735dbe6c11
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_animax_sd_new/default/index.mpd




#EXTINF:-1 tvg-id="dreamworks-hd" tvg-logo="https://i.imgur.com/bzTr9Y2.png" group-title="Kids",DreamWorks HD
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=4ab9645a2a0a47edbd65e8479c2b9669:8cb209f1828431ce9b50b593d1f44079
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_dreamworks_hd1/default/index.mpd

#EXTINF:-1 tvg-id="dreamworks-tagalized" tvg-logo="https://i.imgur.com/bzTr9Y2.png" group-title="Kids",Dreamworks Tagalog
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=564b3b1c781043c19242c66e348699c5:d3ad27d7fe1f14fb1a2cd5688549fbab
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_dreamworktag/default/index.mpd

#EXTINF:-1 tvg-id="moonbug-kids" tvg-logo="https://i.imgur.com/ILaPSzA.png" group-title="Kids",Moonbug Kids
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=0bf00921bec94a65a124fba1ef52b1cd:0f1488487cbe05e2badc3db53ae0f29f
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_moonbug_kids_sd/default/index.mpd

#EXTINF:-1 tvg-id="cartoon-network" tvg-logo="https://poster.starhubgo.com/Linear_channels2/316_1920x1080_HTV.png" group-title="Kids",Cartoon Network (Cignal)
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=a2d1f552ff9541558b3296b5a932136b:cdd48fa884dc0c3a3f85aeebca13d444
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cartoonnetworkhd/default/index.mpd

#EXTINF:-1 tvg-id="nickelodeon" tvg-logo="https://i.imgur.com/4o5dNZA.png" group-title="Kids",Nickelodeon
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=9ce58f37576b416381b6514a809bfd8b:f0fbb758cdeeaddfa3eae538856b4d72
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_nickelodeon/default/index.mpd

#EXTINF:-1 tvg-id="nick-jr" tvg-logo="https://i.imgur.com/iIVYdZP.png" group-title="Kids",Nick Jr
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=bab5c11178b646749fbae87962bf5113:0ac679aad3b9d619ac39ad634ec76bc8
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_nickjr/default/index.mpd

#EXTINF:-1 group-logo="https://cdn-icons-png.flaticon.com/512/2965/2965879.png",News

#EXTINF:-1 tvg-id="ptv-4" tvg-logo="https://i.imgur.com/jRvEV4E.png" group-title="News",PTV
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=71a130a851b9484bb47141c8966fb4a3:ad1f003b4f0b31b75ea4593844435600
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_ptv4_sd/default/index.mpd

#EXTINF:-1 tvg-id="rptv" tvg-logo="https://cms.cignal.tv/Upload/Thumbnails/rptv%20logo%20final-02.png" group-title="News",RPTV
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=1917f4caf2364e6d9b1507326a85ead6:a1340a251a5aa63a9b0ea5d9d7f67595
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cnn_rptv_prod_hd/default/index.mpd

#EXTINF:-1 tvg-id="bilyonaryo-news-channel" tvg-logo="https://i.imgur.com/FxHmXYU.png" group-title="News",Bilyonaryo Channel
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=227ffaf09bec4a889e0e0988704d52a2:b2d0dce5c486891997c1c92ddaca2cd2
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/bilyonaryoch/default1/index.mpd

#EXTINF:-1 tvg-id="cnn-international" tvg-logo="http://115.146.176.131:80/images/2acf9495fde07739914e7a7bb3ffee94.png" group-title="News",CNN International
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=900c43f0e02742dd854148b7a75abbec:da315cca7f2902b4de23199718ed7e90
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_cnnhd/default/index.mpd

#EXTINF:-1 tvg-id="bbc-news" tvg-logo="https://i.imgur.com/CTf7nGs.png" group-title="News",BBC World News
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=f59650be475e4c34a844d4e2062f71f3:119639e849ddee96c4cec2f2b6b09b40
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/bbcworld_news_sd/default/index.mpd

#EXTINF:-1 tvg-id="bloomberg" tvg-logo="https://i.imgur.com/2WGEb3V.png" group-title="News",Bloomberg
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=ef7d9dcfb99b406cb79fb9f675cba426:b24094f6ca136af25600e44df5987af4
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/bloomberg_sd/default/index.mpd

#EXTINF:-1 tvg-id="abc-australia" tvg-logo="https://i.imgur.com/SHwfqzO.png" group-title="News",ABC Australia
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=389497f9f8584a57b234e27e430e04b7:3b85594c7f88604adf004e45c03511c0
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/abc_aus/default/index.mpd

#EXTINF:-1 tvg-id="cctv-4" tvg-logo="https://i.imgur.com/TuwJPPz.png" group-title="News",CCTV-4
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=b83566836c0d4216b7107bd7b8399366:32d50635bfd05fbf8189a0e3f6c8db09
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_cctv4/default/index.mpd

#EXTINF:-1 tvg-id="france-24" tvg-logo="https://i.imgur.com/d8doNpe.png" group-title="News",France 24
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=257f9fdeb39d41bdb226c2ae1fbdaeb6:e80ead0f4f9d6038ab34f332713ceaa5
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/france24/default/index.mpd

#EXTINF:-1 tvg-id="tv5-monde" tvg-logo="https://qp-pldt-image-resizer-cloud-prod.akamaized.net/image/E55ADB5E-C9E1-11EC-9D64-0242AC120002/0-16x9.jpg?width=1980" group-title="News",TV5 Monde
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=fba5a720b4a541b286552899ba86e38b:f63fa50423148bfcbaa58c91dfcffd0e
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_tv5_monde/default/index.mpd

#EXTINF:-1 tvg-id="one-news-hd" tvg-logo="https://i.imgur.com/25PG6TF.png" group-title="News",One News
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=d39eb201ae494a0b98583df4d110e8dd:6797066880d344422abd3f5eda41f45f
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/onenews_hd1/default/index.mpd

#EXTINF:-1 group-logo="https://cdn-icons-png.flaticon.com/512/3074/3074025.png",Lifestyle

#EXTINF:-1 tvg-id="lifetime-sd" tvg-logo="https://i.imgur.com/ZyqbNXn.png" group-title="Lifestyle",Lifetime
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=cf861d26e7834166807c324d57df5119:64a81e30f6e5b7547e3516bbf8c647d0
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_lifetime/default/index.mpd

#EXTINF:-1 tvg-id="asian-food-network" tvg-logo="https://i.imgur.com/PUe61Ov.png" group-title="Lifestyle",Asian Food Network (Cignal)
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=1619db30b9ed42019abb760a0a3b5e7f:5921e47fb290ae263291b851c0b4b6e4
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/asianfoodnetwork_sd/default/index.mpd

#EXTINF:-1 tvg-id="food-network-hd" tvg-logo="https://i.imgur.com/FZBze3z.png" group-title="Lifestyle",Food Network
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=b7299ea0af8945479cd2f287ee7d530e:b8ae7679cf18e7261303313b18ba7a14
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/cg_foodnetwork_hd1/default/index.mpd

#EXTINF:-1 tvg-id="hgtv-hd" tvg-logo="https://i.imgur.com/a6gRxAV.png" group-title="Lifestyle",HGTV
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=f0e3ab943318471abc8b47027f384f5a:13802a79b19cc3485d2257165a7ef62a
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/hgtv_hd1/default/index.mpd

#EXTINF:-1 tvg-id="fashion-tv-hd" tvg-logo="https://i.imgur.com/lb9cHrS.png" group-title="Lifestyle",Fashion TV
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=971ebbe2d887476398e97c37e0c5c591:472aa631b1e671070a4bf198f43da0c7
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/fashiontvhd/default/index.mpd

#EXTINF:-1 tvg-id="travel-channel-sd" tvg-logo="https://i.imgur.com/8ukGHjv.png" group-title="Lifestyle",Travel Channel
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=f3047fc13d454dacb6db4207ee79d3d3:bdbd38748f51fc26932e96c9a2020839
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/travel_channel_sd/default/index.mpd

#EXTINF:-1 group-logo="https://cdn-icons-png.flaticon.com/512/3074/3074025.png",Documentary

#EXTINF:-1 tvg-id="history-hd" tvg-logo="https://i.imgur.com/oJQJyhb.png" group-title="Documentary",History HD
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=a7724b7ca2604c33bb2e963a0319968a:6f97e3e2eb2bade626e0281ec01d3675
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/dr_historyhd/default/index.mpd

#EXTINF:-1 tvg-id="crime-investigation" tvg-logo="https://i.imgur.com/9QBOVGF.png" group-title="Documentary",Crime & Investigation SD
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=21e2843b561c4248b8ea487986a16d33:db6bb638ccdfc1ad1a3e98d728486801
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/crime_invest/default/index.mpd

#EXTINF:-1 tvg-id="discovery-channel" tvg-logo="https://i.imgur.com/XsvAk5H.png" group-title="Documentary",Discovery Channel
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=d9ac48f5131641a789328257e778ad3a:b6e67c37239901980c6e37e0607ceee6
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/discovery/default/index.mpd

#EXTINF:-1 tvg-id="animal-planet" tvg-logo="https://i.imgur.com/SkpFpW4.png" group-title="Documentary",Animal Planet
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=436b69f987924fcbbc06d40a69c2799a:c63d5b0d7e52335b61aeba4f6537d54d
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_animal_planet_sd/default/index.mpd

#EXTINF:-1 tvg-id="bbc-earth" tvg-logo="https://i.imgur.com/vip1JIz.png" group-title="Documentary",BBC Earth
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=34ce95b60c424e169619816c5181aded:0e2a2117d705613542618f58bf26fc8e
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/cg_bbcearth_hd1/default/index.mpd

#EXTINF:-1 group-logo="https://cdn-icons-png.flaticon.com/512/3159/3159310.png",Religious

#EXTINF:-1 tvg-id="tv-maria" tvg-logo="https://i.imgur.com/8rLJW8s.png" group-title="Religious",TV Maria
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=fa3998b9a4de40659725ebc5151250d6:998f1294b122bbf1a96c1ddc0cbb229f
https://qp-pldt-live-bpk-01-prod.akamaized.net/bpk-tv/tvmaria_prd/default/index.mpd

#EXTINF:-1 group-logo="https://cdn-icons-png.flaticon.com/512/3074/3074767.png",Educational

#EXTINF:-1 tvg-id="deped-tv" tvg-logo="https://i.imgur.com/Ii7tRrE.png" group-title="Educational",DepEd Channel
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=0f853706412b11edb8780242ac120002:2157d6529d80a760f60a8b5350dbc4df
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/depedch_sd/default/index.mpd

#EXTINF:-1 tvg-id="knowledge-channel" tvg-logo="https://i.imgur.com/4O93eBO.png" group-title="Educational",Knowledge Channel
#KODIPROP:inputstream.adaptive.license_type=clearkey
#KODIPROP:inputstream.adaptive.license_key=0f856fa0412b11edb8780242ac120002:783374273ef97ad3bc992c1d63e091e7
https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/knowledge_channel/default/index.mpd

#EXTM3U billed-msg="SalvadorArchives25 Property, 6-CIMATTI! "

#EXTM3U url-tvg="https://epgshare01.online/epgshare01/epg_ripper_PH1.xml.gz, https://epgshare01.online/epgshare01/epg_ripper_PH2.xml.gz, https://epgshare01.online/epgshare01/epg_ripper_ID1.xml.gz, https://epgshare01.online/epgshare01/epg_ripper_MY1.xml.gz, https://epgshare01.online/epgshare01/epg_ripper_HK1.xml.gz, https://epgshare01.online/epgshare01/epg_ripper_US1.xml.gz, https://raw.githubusercontent.com/atone77721/CIGNAL_EPG/refs/heads/main/cignal_epg.xml, https://raw.githubusercontent.com/atone77721/CIGNAL_EPG/refs/heads/main/sky_epg.xml"

  // --- initialize Shaka
  shaka.polyfill.installAll();
  const shakaPlayer = new shaka.Player(video);
  const ui = new shaka.ui.Overlay(shakaPlayer, document.getElementById('video-wrap'), video);
  // hide native Shaka logo area if desired via CSS override, but we keep default controls
  shakaPlayer.configure({
    drm: { clearKeys: {} },
    streaming: { bufferingGoal: 20, rebufferingGoal: 4 }
  });

  // show player version
  playerVersionEl.textContent = shaka.Player.version || 'shaka';

  // parse and build playlist
  let channels = parseM3U(m3uContent);
  let filteredChannels = channels.slice();
  buildPlaylistUI(filteredChannels);
  playlistTitleEl.textContent = `All Channels (${channels.length})`;

  // select first channel
  if (channels[0]) {
    loadChannel(channels[0]);
    setActiveByIndex(0);
  }

  // player events
  shakaPlayer.addEventListener('adaptation', () => {
    const tracks = shakaPlayer.getVariantTracks() || [];
    const active = tracks.find(t => t.active);
    currentResolutionEl.textContent = active ? `${active.height || active.width}px` : '-';
  });

  shakaPlayer.addEventListener('buffering', (e) => {
    bufferingStatusEl.textContent = e.buffering ? 'Buffering‚Ä¶' : 'Ready';
  });

  // current time updater
  setInterval(() => {
    const t = Math.floor(video.currentTime || 0);
    const m = Math.floor(t / 60);
    const s = t % 60;
    currentTimeEl.textContent = `${m}:${s < 10 ? '0' : ''}${s}`;
  }, 500);

  // search/filter
  searchInput.addEventListener('input', (e) => {
    const q = e.target.value.trim().toLowerCase();
    filteredChannels = channels.filter(c => (c.name + ' ' + (c.groupTitle||'')).toLowerCase().includes(q));
    buildPlaylistUI(filteredChannels);
  });

  // shuffle & refresh
  shuffleBtn.addEventListener('click', () => {
    shuffleArray(channels);
    filteredChannels = channels.slice();
    buildPlaylistUI(filteredChannels);
    playlistTitleEl.textContent = `All Channels (${channels.length}) ‚Ä¢ Shuffled`;
    setTimeout(()=> playlistTitleEl.textContent = `All Channels (${channels.length})`, 1800);
  });
  refreshBtn.addEventListener('click', () => {
    // reload from source content ‚Äî in real usage, you'd fetch M3U again
    channels = parseM3U(m3uContent);
    filteredChannels = channels.slice();
    buildPlaylistUI(filteredChannels);
    playlistTitleEl.textContent = `All Channels (${channels.length}) ‚Ä¢ Refreshed`;
    setTimeout(()=> playlistTitleEl.textContent = `All Channels (${channels.length})`, 1400);
  });

  // theme toggle (simple light accent inversion)
  themeToggle.addEventListener('click', () => {
    document.body.classList.toggle('light-mode');
    if (document.body.classList.contains('light-mode')) {
      document.documentElement.style.setProperty('--bg-1','#f6f8fb');
      document.documentElement.style.setProperty('--muted','#2c3a47');
    } else {
      document.documentElement.style.setProperty('--bg-1','#0b1221');
      document.documentElement.style.setProperty('--muted','rgba(255,255,255,0.65)');
    }
  });

  /* -------------------------
     MINI PIP: show/hide mini player
     ------------------------- */
  pipBtn.addEventListener('click', async () => {
    // show mini container and mirror playback onto a tiny video
    miniPipWrap.classList.add('show');
    // transfer current playback state to miniVideo
    try {
      // try to reuse same source URL
      miniVideo.src = video.currentSrc || video.src;
      miniVideo.currentTime = video.currentTime || 0;
      miniVideo.muted = true;
      await miniVideo.play();
      // pause main video to avoid double audio
      video.muted = true;
    } catch(e){}
  });
  miniClose.addEventListener('click', () => {
    miniPipWrap.classList.remove('show');
    miniVideo.pause();
    miniVideo.src = '';
    video.muted = false;
  });

  /* -------------------------
     Keyboard navigation
     ------------------------- */
  let activeIndex = 0;
  document.addEventListener('keydown', (e) => {
    const visible = filteredChannels.length;
    if (e.key === 'ArrowDown') {
      activeIndex = Math.min(visible - 1, activeIndex + 1);
      setActiveByIndex(activeIndex, true);
    } else if (e.key === 'ArrowUp') {
      activeIndex = Math.max(0, activeIndex - 1);
      setActiveByIndex(activeIndex, true);
    } else if (e.key === 'Enter') {
      const c = filteredChannels[activeIndex];
      if (c) loadChannel(c);
    } else if (e.key === 'ArrowLeft') {
      // optional: switch groups/pages later
    } else if (e.key === 'ArrowRight') {
      // optional: switch groups/pages later
    }
  });

  /* -------------------------
     Helper functions
     ------------------------- */

  function parseM3U(m3uText) {
    const lines = m3uText.split(/\r?\n/).map(l=>l.trim()).filter(l=>l!=='');
    const out = [];
    let current = null;
    for (let i=0;i<lines.length;i++){
      const line = lines[i];
      if (line.startsWith('#EXTINF:')) {
        current = {};
        // capture duration and attributes
        const nameMatch = line.match(/,(.*)$/);
        current.name = nameMatch ? nameMatch[1].trim() : 'Unknown';
        const attrs = line.replace(/^#EXTINF:[^,]*,?/,'');
        const tvgLogo = line.match(/tvg-logo="([^"]+)"/);
        if (tvgLogo) current.tvgLogo = tvgLogo[1];
        const group = line.match(/group-title="([^"]+)"/);
        current.groupTitle = group ? group[1] : 'General';
        // duration
        const dur = line.match(/#EXTINF:(-?\d+)/);
        current.duration = dur ? dur[1] : '-1';
      } else if (line.startsWith('http')) {
        if (!current) current = { name: 'Unknown', groupTitle: 'General' };
        current.url = line;
        // detect simple clearkey license in following lines (if any)
        // (We support license parsing similar to your original code if present)
        out.push(current);
        current = null;
      } else {
        // other tags ignored for now
      }
    }
    return out;
  }

  function buildPlaylistUI(list) {
    channelGrid.innerHTML = '';
    if (!list.length) {
      channelGrid.innerHTML = `<div style="padding:20px;color:var(--muted)">No channels found</div>`;
      return;
    }
    list.forEach((c, i) => {
      const item = document.createElement('div');
      item.tabIndex = 0;
      item.className = 'channel';
      item.dataset.index = i;
      item.innerHTML = `
        <div class="thumb">
          ${c.tvgLogo ? `<img src="${c.tvgLogo}" alt="${escapeHtml(c.name)}">` :
            `<div style="display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-weight:700">${escapeHtml(c.name.charAt(0))}</div>`}
        </div>
        <div class="ch-info">
          <div style="display:flex;align-items:center;gap:8px">
            <div class="ch-name">${escapeHtml(c.name)}</div>
            ${i===0 ? '<div class="playing-indicator" title="preferred"></div>' : ''}
          </div>
          <div class="ch-meta">${escapeHtml(c.groupTitle)} ‚Ä¢ ${c.duration === '-1' ? 'Live' : 'VOD'}</div>
        </div>
      `;
      // live badge if live
      if (c.duration === '-1') {
        const badge = document.createElement('div');
        badge.className = 'live-badge';
        badge.textContent = 'LIVE';
        item.querySelector('.thumb').appendChild(badge);
      }

      item.addEventListener('click', () => {
        loadChannel(c);
        setActiveByIndex(i, true);
      });

      item.addEventListener('keydown', (ev) => {
        if (ev.key === 'Enter') {
          loadChannel(c);
          setActiveByIndex(i, true);
        }
      });

      channelGrid.appendChild(item);
    });
    // reset active index bounds
    activeIndex = Math.min(activeIndex, list.length - 1);
    setActiveByIndex(activeIndex, false);
  }

  function setActiveByIndex(index, scrollIntoView=true){
    const nodes = channelGrid.querySelectorAll('.channel');
    nodes.forEach(n => n.classList.remove('active'));
    const node = nodes[index];
    if (node) {
      node.classList.add('active');
      if (scrollIntoView) node.scrollIntoView({behavior:'smooth',block:'center'});
    }
  }

  async function loadChannel(channel){
    if (!channel || !channel.url) {
      console.warn('No URL for channel', channel);
      playlistTitleEl.textContent = 'Error: no url';
      return;
    }

    // DRM: if license info present, configure player before load
    if (channel.licenseKey && channel.drmType === 'clearkey') {
      const cfg = {};
      const [kid, key] = (channel.licenseKey || '').split(':');
      if (kid && key) {
        cfg[kid] = key;
        shakaPlayer.configure({ drm: { clearKeys: cfg } });
      }
    }

    try {
      await shakaPlayer.load(channel.url);
      playlistTitleEl.textContent = `Now Playing: ${channel.name}`;
      // ensure main video unmuted (unless pip active)
      video.muted = miniPipWrap.classList.contains('show') ? true : false;
    } catch (err) {
      console.error('Failed load', err);
      playlistTitleEl.textContent = `Error loading ${channel.name}`;
    }
  }

  function shuffleArray(a){
    for (let i=a.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [a[i], a[j]] = [a[j], a[i]];
    }
  }

  function escapeHtml(s){
    return (s||'').toString().replace(/[&<>"]/g, c=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;' }[c]));
  }

  // small UX: mark first item as active initially
  setActiveByIndex(0,false);

}); // DOMContentLoaded
</script>
</body>
</html>
